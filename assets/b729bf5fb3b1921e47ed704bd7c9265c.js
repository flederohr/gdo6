"use strict";window.GDO.JPGraph={initGraphFor:function(e){console.log("GDO.JPGraph.initGraphFor()",e),this.setDisabledStateFor(e)},setDisabledStateFor:function(e){var t=e.find("select"),r=e.find("input[name=start]"),a=e.find("input[name=end]");console.log("GDO.JPGraph.setDisabledStateFor()",e,t,r,a),"custom"===t.val()?(r.prop("disabled",!1),a.prop("disabled",!1)):(r.prop("disabled",!0),a.prop("disabled",!0))},renderImageFor:function(e){console.log("GDO.JPGraph.renderImageFor()",e);var t=e.find("img"),r=e.find("select"),a=e.find("input[name=start]"),e=e.find("input[name=end]");this._renderImage(t,r.val(),a.val(),e.val())},_renderImage:function(e,t,r,a){console.log("GDO.JPGraph._renderImage()",e,t,r,a);var n=e.attr("src"),o="start="+r,i="end="+a;n=(n=(n=(n=n.replace(/date=[^&]*/,"date="+t)).replace(/start=[^&]*/,o)).replace(/end=[^&]*/,i)).replace(/&t=[0-9]+/,"")+"&t="+(new Date).getTime(),("custom"!==t||r&&a)&&"0"!==t&&(console.log(e,n),e.attr("src",n))}},$(function(){$(".gdt-graph-select").each(function(){GDO.JPGraph.initGraphFor($(this))}),$(".gdt-graph-select select").change(function(){var e=$(this).closest("form");GDO.JPGraph.setDisabledStateFor(e),GDO.JPGraph.renderImageFor(e)}),$(".gdt-graph-select input").change(function(){var e=$(this).closest("form");GDO.JPGraph.renderImageFor(e)})});