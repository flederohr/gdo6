!function(e,t){var n,a={fr:{PH:{"Jour de l'an":[1,1],"Vendredi saint":["easter",-2,["Moselle","Bas-Rhin","Haut-Rhin","Guadeloupe","Martinique","Polynésie française"]],"Lundi de Pâques":["easter",1],"Saint-Pierre-Chanel":[4,28,["Wallis-et-Futuna"]],"Fête du Travail":[5,1],"Fête de la Victoire":[5,8],"Abolition de l'esclavage":[12,20,["Réunion"]],"Jeudi de l'Ascension":["easter",39],"Lundi de Pentecôte":["easter",50],"Fête de l'autonomie":[6,29,["Polynésie française"]],"Fête nationale":[7,14],"Fête Victor Schoelcher":[7,21,["Guadeloupe","Martinique"]],"Fête du Territoire":[7,29,["Wallis-et-Futuna"]],Assomption:[8,15],"Fête de la citoyenneté":[9,24,["Nouvelle-Calédonie"]],Toussaint:[11,1],Armistice:[11,11],"Noël":[12,25],"Saint-Étienne ":[12,26,["Moselle","Bas-Rhin","Haut-Rhin"]]}},de:{PH:{Neujahrstag:[1,1],"Heilige Drei Könige":[1,6,["Baden-Württemberg","Bayern","Sachsen-Anhalt"]],"Tag der Arbeit":[5,1],Karfreitag:["easter",-2],Ostersonntag:["easter",0,["Brandenburg"]],Ostermontag:["easter",1],"Christi Himmelfahrt":["easter",39],Pfingstsonntag:["easter",49,["Brandenburg"]],Pfingstmontag:["easter",50],Fronleichnam:["easter",60,["Baden-Württemberg","Bayern","Hessen","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland"]],"Mariä Himmelfahrt":[8,15,["Saarland"]],"Tag der Deutschen Einheit":[10,3],Reformationstag:[10,31,["Brandenburg","Mecklenburg-Vorpommern","Sachsen","Sachsen-Anhalt","Thüringen"]],Allerheiligen:[11,1,["Baden-Württemberg","Bayern","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland"]],"1. Weihnachtstag":[12,25],"2. Weihnachtstag":[12,26]},"Baden-Württemberg":{SH:[{name:"Osterferien",2005:[3,24,3,24,3,29,4,2],2006:[4,18,4,22],2007:[4,2,4,14],2008:[3,17,3,28],2009:[4,9,4,9,4,14,4,17],2010:[4,1,4,1,4,6,4,10],2011:[4,21,4,21,4,26,4,30],2012:[4,2,4,13],2013:[3,25,4,5],2014:[4,14,4,25],2015:[3,30,4,10],2016:[3,29,4,2],2017:[4,10,4,21]},{name:"Pfingstferien",2005:[5,17,5,28],2006:[5,29,6,10],2007:[5,29,6,9],2008:[5,13,5,23],2009:[5,25,6,6],2010:[5,25,6,5],2011:[6,14,6,25],2012:[5,29,6,9],2013:[5,21,6,1],2014:[6,10,6,21],2015:[5,26,6,6],2016:[5,17,5,28],2017:[6,6,6,16]},{name:"Sommerferien",2005:[7,28,9,10],2006:[8,3,9,16],2007:[7,26,9,8],2008:[7,24,9,6],2009:[7,30,9,12],2010:[7,29,9,11],2011:[7,28,9,10],2012:[7,26,9,8],2013:[7,25,9,7],2014:[7,31,9,13],2015:[7,30,9,12],2016:[7,28,9,10],2017:[7,27,9,9]},{name:"Herbstferien",2005:[11,2,11,4],2006:[10,30,11,3],2007:[10,29,11,3],2008:[10,27,10,31],2009:[10,26,10,31],2010:[11,2,11,6],2011:[10,31,10,31,11,2,11,4],2012:[10,29,11,2],2013:[10,28,10,30],2014:[10,27,10,30],2015:[11,2,11,6],2016:[11,2,11,4]},{name:"Weihnachtsferien",2005:[12,22,1,5],2006:[12,27,1,5],2007:[12,24,1,5],2008:[12,22,1,10],2009:[12,23,1,9],2010:[12,23,1,8],2011:[12,23,1,5],2012:[12,24,1,5],2013:[12,23,1,4],2014:[12,22,1,5],2015:[12,23,1,9],2016:[12,23,1,7]}]},"Mecklenburg-Vorpommern":{SH:[{name:"Winterferien",2010:[2,6,2,20],2011:[2,7,2,19],2012:[2,6,2,17],2013:[2,4,2,15],2014:[2,3,2,15],2015:[2,2,2,14],2016:[2,1,2,13],2017:[2,6,2,18]},{name:"Osterferien",2010:[3,29,4,7],2011:[4,16,4,27],2012:[4,2,4,11],2013:[3,25,4,3],2014:[4,14,4,23],2015:[3,30,4,8],2016:[3,21,3,30],2017:[4,10,4,19]},{name:"Pfingstferien",2010:[5,21,5,22],2011:[6,10,6,14],2012:[5,25,5,29],2013:[5,17,5,21],2014:[6,6,6,10],2015:[5,22,5,26],2016:[5,14,5,17],2017:[6,2,6,6]},{name:"Sommerferien",2010:[7,12,8,21],2011:[7,4,8,13],2012:[6,23,8,4],2013:[6,22,8,3],2014:[7,14,8,23],2015:[7,20,8,29],2016:[7,25,9,3],2017:[7,24,9,2]},{name:"Herbstferien",2010:[10,18,10,23],2011:[10,17,10,21],2012:[10,1,10,5],2013:[10,14,10,19],2014:[10,20,10,25],2015:[10,24,10,30],2016:[10,24,10,28]},{name:"Weihnachtsferien",2010:[12,23,12,31],2011:[12,23,1,3],2012:[12,21,1,4],2013:[12,23,1,3],2014:[12,22,1,2],2015:[12,21,1,2],2016:[12,22,1,2]}]},Hessen:{SH:[{name:"Osterferien",2010:[3,29,4,10],2011:[4,18,4,30],2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,29,4,9],2017:[4,3,4,15],2018:[3,26,4,7]},{name:"Sommerferien",2010:[7,5,8,14],2011:[6,27,8,5],2012:[7,2,8,10],2013:[7,8,8,16],2014:[7,28,9,5],2015:[7,27,9,5],2016:[7,18,8,26],2017:[7,3,8,11]},{name:"Herbstferien",2010:[10,11,10,22],2011:[10,10,10,22],2012:[10,15,10,27],2013:[10,14,10,26],2014:[10,20,11,1],2015:[10,19,10,31],2016:[10,17,10,29],2017:[10,9,10,21]},{name:"Weihnachtsferien",2010:[12,20,1,7],2011:[12,21,1,6],2012:[12,24,1,12],2013:[12,23,1,11],2014:[12,22,1,10],2015:[12,23,1,9],2016:[12,22,1,7],2017:[12,24,1,13]}]},"Schleswig-Holstein":{SH:[{name:"Osterferien",2010:[4,3,4,17],2011:[4,15,4,30],2012:[3,30,4,13],2013:[3,25,4,9],2014:[4,16,5,2],2015:[4,1,4,17],2016:[3,24,4,9],2017:[4,7,4,21]},{name:"Sommerferien",2010:[7,12,8,21],2011:[7,4,8,13],2012:[6,25,8,4],2013:[6,24,8,3],2014:[7,14,8,23],2015:[7,20,8,29],2016:[7,25,9,3],2017:[7,24,9,2]},{name:"Pfingstferien",2011:[6,3,6,4],2012:[5,18,5,18],2013:[5,10,5,10],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6],2017:[5,26,5,26]},{name:"Herbstferien",2010:[10,11,10,23],2011:[10,10,10,22],2012:[10,4,10,19],2013:[10,4,10,18],2014:[10,13,10,25],2015:[10,19,10,31],2016:[10,17,10,29]},{name:"Weihnachtsferien",2010:[12,23,1,7],2011:[12,23,1,6],2012:[12,24,1,5],2013:[12,23,1,6],2014:[12,22,1,6],2015:[12,21,1,6],2016:[12,23,1,6]}]},Berlin:{SH:[{name:"Winterferien",2010:[2,1,2,6],2011:[1,31,2,5],2012:[1,30,2,4],2013:[2,4,2,9],2014:[2,3,2,8],2015:[2,2,2,7],2016:[2,1,2,6],2017:[1,30,2,4]},{name:"Osterferien",2010:[3,31,4,10],2011:[4,18,4,30],2012:[4,2,4,14,4,30,4,30],2013:[3,25,4,6],2014:[4,14,4,26,5,2,5,2],2015:[3,30,4,11],2016:[3,21,4,2],2017:[4,10,4,22]},{name:"Pfingstferien",2010:[5,14,5,14,5,25,5,25],2011:[6,3,6,3],2012:[5,18,5,18],2013:[5,10,5,10,5,21,5,21],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26]},{name:"Sommerferien",2010:[7,7,8,21],2011:[6,29,8,12],2012:[6,20,8,3],2013:[6,19,8,2],2014:[7,9,8,22],2015:[7,15,8,28],2016:[7,20,9,2],2017:[7,19,9,1]},{name:"Herbstferien",2010:[10,11,10,23],2011:[10,4,10,14],2012:[10,1,10,13],2013:[9,30,10,12],2014:[10,20,11,1],2015:[10,19,10,31],2016:[10,17,10,28]},{name:"Weihnachtsferien",2010:[12,23,1,1],2011:[12,23,1,3],2012:[12,24,1,4],2013:[12,23,1,3],2014:[12,22,1,2],2015:[12,23,1,2],2016:[12,23,1,3]}]},Saarland:{SH:[{name:"Winterferien",2010:[2,15,2,20],2011:[3,7,3,12],2012:[2,20,2,25],2013:[2,11,2,16],2014:[3,3,3,8],2015:[2,16,2,21]},{name:"Osterferien",2010:[3,29,4,10],2011:[4,18,4,30],2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11]},{name:"Sommerferien",2010:[7,5,8,14],2011:[6,24,8,6],2012:[7,2,8,14],2013:[7,8,8,17],2014:[7,28,9,6],2015:[7,27,9,4],2016:[7,18,8,26],2017:[7,3,8,14]},{name:"Herbstferien",2010:[10,11,10,23],2011:[10,4,10,15],2012:[10,22,11,3],2013:[10,21,11,2],2014:[10,20,10,31]},{name:"Weihnachtsferien",2010:[12,20,1,1],2011:[12,23,1,4],2012:[12,24,1,5],2013:[12,20,1,4],2014:[12,22,1,7]}]},Bremen:{SH:[{name:"Winterferien",2010:[2,1,2,2],2011:[1,31,2,1],2012:[1,30,1,31],2013:[1,31,2,1],2014:[1,30,1,31],2015:[2,2,2,3],2016:[1,28,1,29],2017:[1,30,1,31]},{name:"Osterferien",2010:[3,19,4,6],2011:[4,16,4,30],2012:[3,26,4,11,4,30,4,30],2013:[3,16,4,2],2014:[4,3,4,22,5,2,5,2],2015:[3,25,4,10],2016:[3,18,4,2],2017:[4,10,4,22]},{name:"Pfingstferien",2010:[5,14,5,14,5,25,5,25],2011:[6,3,6,3,6,14,6,14],2012:[5,18,5,18,5,29,5,29],2013:[5,10,5,10,5,21,5,21],2014:[5,30,5,30,6,10,6,10],2015:[5,15,5,15,5,26,5,26],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26,6,6,6,6]},{name:"Sommerferien",2010:[6,24,8,4],2011:[7,7,8,17],2012:[7,23,8,31],2013:[6,27,8,7],2014:[7,31,9,10],2015:[7,23,9,2],2016:[6,23,8,3],2017:[6,22,8,2]},{name:"Herbstferien",2010:[10,9,10,23],2011:[10,17,10,29],2012:[10,22,11,3],2013:[10,4,10,18],2014:[10,27,11,8],2015:[10,19,10,31],2016:[10,4,10,15]},{name:"Weihnachtsferien",2010:[12,22,1,5],2011:[12,23,1,4],2012:[12,24,1,5],2013:[12,23,1,3],2014:[12,22,1,5],2015:[12,23,1,6],2016:[12,21,1,6]}]},Bayern:{SH:[{name:"Winterferien",2010:[2,15,2,20],2011:[3,7,3,11],2012:[2,20,2,24],2013:[2,11,2,15],2014:[3,3,3,7],2015:[2,16,2,20],2016:[2,8,2,12],2017:[2,27,3,3]},{name:"Osterferien",2010:[3,29,4,10],2011:[4,18,4,30],2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,21,4,1],2017:[4,10,4,22]},{name:"Pfingstferien",2010:[5,25,6,5],2011:[6,14,6,25],2012:[5,29,6,9],2013:[5,21,5,31],2014:[6,10,6,21],2015:[5,26,6,5],2016:[5,17,5,28],2017:[6,6,6,16]},{name:"Sommerferien",2010:[8,2,9,13],2011:[7,30,9,12],2012:[8,1,9,12],2013:[7,31,9,11],2014:[7,30,9,15],2015:[8,1,9,14],2016:[7,30,9,12],2017:[7,29,9,11]},{name:"Herbstferien",2010:[11,2,11,5],2011:[10,31,11,5],2012:[10,29,11,3],2013:[10,28,10,31],2014:[10,27,10,31],2015:[11,2,11,7],2016:[10,31,11,4]},{name:"Weihnachtsferien",2010:[12,24,1,7],2011:[12,27,1,5],2012:[12,24,1,5],2013:[12,23,1,4],2014:[12,24,1,5],2015:[12,24,1,5],2016:[12,24,1,5]}]},Niedersachsen:{SH:[{name:"Winterferien",2010:[2,1,2,2],2011:[1,31,2,1],2012:[1,30,1,31],2013:[1,31,2,1],2014:[1,30,1,31],2015:[2,2,2,3],2016:[1,28,1,29],2017:[1,30,1,31]},{name:"Osterferien",2010:[3,19,4,6],2011:[4,16,4,30],2012:[3,26,4,11,4,30,4,30],2013:[3,16,4,2],2014:[4,3,4,22,5,2,5,2],2015:[3,25,4,10],2016:[3,18,4,2],2017:[4,10,4,22]},{name:"Pfingstferien",2010:[5,14,5,14,5,25,5,25],2011:[6,3,6,3,6,14,6,14],2012:[5,18,5,18,5,29,5,29],2013:[5,10,5,10,5,21,5,21],2014:[5,30,5,30,6,10,6,10],2015:[5,15,5,15,5,26,5,26],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26,6,6,6,6]},{name:"Sommerferien",2010:[6,24,8,4],2011:[7,7,8,17],2012:[7,23,8,31],2013:[6,27,8,7],2014:[7,31,9,10],2015:[7,23,9,2],2016:[6,23,8,3],2017:[6,22,8,2]},{name:"Herbstferien",2010:[10,9,10,23],2011:[10,17,10,29],2012:[10,22,11,3],2013:[10,4,10,18],2014:[10,27,11,8],2015:[10,19,10,31],2016:[10,4,10,15]},{name:"Weihnachtsferien",2010:[12,22,1,5],2011:[12,23,1,4],2012:[12,24,1,5],2013:[12,23,1,3],2014:[12,22,1,5],2015:[12,23,1,6],2016:[12,21,1,6]}]},"Nordrhein-Westfalen":{SH:[{name:"Osterferien",2010:[3,27,4,10],2011:[4,18,4,30],2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,21,4,2],2017:[4,10,4,22]},{name:"Pfingstferien",2010:[5,25,5,25],2012:[5,29,5,29],2013:[5,21,5,21],2014:[6,10,6,10],2015:[5,26,5,26],2016:[5,17,5,17],2017:[6,6,6,6]},{name:"Sommerferien",2010:[7,15,8,27],2011:[7,25,9,6],2012:[7,9,8,21],2013:[7,22,9,3],2014:[7,7,8,19],2015:[6,29,8,11],2016:[7,11,8,23],2017:[7,17,8,29]},{name:"Herbstferien",2010:[10,11,10,23],2011:[10,24,11,5],2012:[10,8,10,20],2013:[10,21,11,2],2014:[10,6,10,18],2015:[10,5,10,17],2016:[10,10,10,21]},{name:"Weihnachtsferien",2010:[12,24,1,8],2011:[12,23,1,6],2012:[12,21,1,4],2013:[12,23,1,7],2014:[12,22,1,6],2015:[12,23,1,6],2016:[12,23,1,6]}]},Sachsen:{SH:[{name:"Winterferien",2010:[2,8,2,20],2011:[2,12,2,26],2012:[2,13,2,25],2013:[2,4,2,15],2014:[2,17,3,1],2015:[2,9,2,21],2016:[2,8,2,20],2017:[2,13,2,24]},{name:"Osterferien",2010:[4,1,4,10],2011:[4,22,4,30],2012:[4,6,4,14],2013:[3,29,4,6],2014:[4,18,4,26],2015:[4,2,4,11],2016:[3,25,4,2],2017:[4,13,4,22]},{name:"Pfingstferien",2010:[5,14,5,14],2011:[6,3,6,3],2012:[5,18,5,18],2013:[5,10,5,10,5,18,5,22],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6],2017:[5,26,5,26]},{name:"Sommerferien",2010:[6,28,8,6],2011:[7,11,8,19],2012:[7,23,8,31],2013:[7,15,8,23],2014:[7,21,8,29],2015:[7,13,8,21],2016:[6,27,8,5],2017:[6,26,8,4]},{name:"Herbstferien",2010:[10,4,10,16],2011:[10,17,10,28],2012:[10,22,11,2],2013:[10,21,11,1],2014:[10,20,10,31],2015:[10,12,10,24],2016:[10,3,10,15]},{name:"Weihnachtsferien",2010:[12,23,1,1],2011:[12,23,1,2],2012:[12,22,1,2],2013:[12,21,1,3],2014:[12,22,1,3],2015:[12,21,1,2],2016:[12,23,1,2]}]},"Thüringen":{SH:[{name:"Winterferien",2010:[2,1,2,6],2011:[1,31,2,5],2012:[2,6,2,11],2013:[2,18,2,23],2014:[2,17,2,22],2015:[2,2,2,7],2016:[2,1,2,6],2017:[2,6,2,11]},{name:"Osterferien",2010:[3,29,4,9],2011:[4,18,4,30],2012:[4,2,4,13],2013:[3,25,4,6],2014:[4,19,5,2],2015:[3,30,4,11],2016:[3,24,4,2],2017:[4,10,4,21]},{name:"Sommerferien",2010:[6,24,8,4],2011:[7,11,8,19],2012:[7,23,8,31],2013:[7,15,8,23],2014:[7,21,8,29],2015:[7,13,8,21],2016:[6,27,8,10],2017:[6,26,8,9]},{name:"Pfingstferien",2011:[6,11,6,14],2012:[5,25,5,29],2013:[5,10,5,10],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6],2017:[5,26,5,26]},{name:"Herbstferien",2010:[10,9,10,23],2011:[10,17,10,28],2012:[10,22,11,3],2013:[10,21,11,2],2014:[10,6,10,18],2015:[10,5,10,17],2016:[10,10,10,22]},{name:"Weihnachtsferien",2010:[12,23,1,1],2011:[12,23,1,1],2012:[12,24,1,5],2013:[12,23,1,4],2014:[12,22,1,3],2015:[12,23,1,2],2016:[12,23,12,31]}]},Hamburg:{SH:[{name:"Winterferien",2010:[1,29,1,29],2011:[1,31,1,31],2012:[1,30,1,30],2013:[2,1,2,1],2014:[1,31,1,31],2015:[1,30,1,30],2016:[1,29,1,29],2017:[1,30,1,30]},{name:"Osterferien",2010:[3,8,3,20],2011:[3,7,3,18],2012:[3,5,3,16],2013:[3,4,3,15],2014:[3,3,3,14],2015:[3,2,3,13],2016:[3,7,3,18],2017:[3,6,3,17]},{name:"Pfingstferien",2010:[5,14,5,22],2011:[4,26,4,29,6,3,6,3],2012:[4,30,5,4,5,18,5,18],2013:[5,2,5,10],2014:[4,28,5,2,5,30,5,30],2015:[5,11,5,15],2016:[5,6,5,6,5,17,5,20],2017:[5,22,5,26]},{name:"Sommerferien",2010:[7,8,8,18],2011:[6,30,8,10],2012:[6,21,8,1],2013:[6,20,7,31],2014:[7,10,8,20],2015:[7,16,8,26],2016:[7,21,8,31],2017:[7,20,8,30]},{name:"Herbstferien",2010:[10,4,10,15],2011:[10,4,10,14],2012:[10,1,10,12],2013:[9,30,10,11],2014:[10,13,10,24],2015:[10,19,10,30],2016:[10,17,10,28]},{name:"Weihnachtsferien",2010:[12,23,1,3],2011:[12,27,1,6],2012:[12,21,1,4],2013:[12,19,1,3],2014:[12,22,1,6],2015:[12,21,1,1],2016:[12,27,1,6]}]},"Sachsen-Anhalt":{SH:[{name:"Winterferien",2010:[2,8,2,13],2011:[2,5,2,12],2012:[2,4,2,11],2013:[2,1,2,8],2014:[2,1,2,12],2015:[2,2,2,14],2016:[2,1,2,10],2017:[2,4,2,11]},{name:"Osterferien",2010:[3,29,4,9],2011:[4,18,4,27],2012:[4,2,4,7],2013:[3,25,3,30],2014:[4,14,4,17],2015:[4,2,4,2],2016:[3,24,3,24],2017:[4,10,4,13]},{name:"Pfingstferien",2010:[5,14,5,22],2011:[6,14,6,18],2012:[5,18,5,25],2013:[5,10,5,18],2014:[5,30,6,7],2015:[5,15,5,23],2016:[5,6,5,14],2017:[5,26,5,26]},{name:"Sommerferien",2010:[6,24,8,4],2011:[7,11,8,24],2012:[7,23,9,5],2013:[7,15,8,28],2014:[7,21,9,3],2015:[7,13,8,26],2016:[6,27,8,10],2017:[6,26,8,9]},{name:"Herbstferien",2010:[10,18,10,23],2011:[10,17,10,22],2012:[10,29,11,2],2013:[10,21,10,25],2014:[10,27,10,30],2015:[10,17,10,24],2016:[10,4,10,15]},{name:"Weihnachtsferien",2010:[12,22,1,5],2011:[12,22,1,7],2012:[12,19,1,4],2013:[12,21,1,3],2014:[12,22,1,5],2015:[12,21,1,5],2016:[12,19,1,2]}]},"Rheinland-Pfalz":{SH:[{name:"Osterferien",2010:[3,26,4,9],2011:[4,18,4,29],2012:[3,29,4,13],2013:[3,20,4,5],2014:[4,11,4,25],2015:[3,26,4,10],2016:[3,18,4,1],2017:[4,10,4,21]},{name:"Sommerferien",2010:[7,5,8,13],2011:[6,27,8,5],2012:[7,2,8,10],2013:[7,8,8,16],2014:[7,28,9,5],2015:[7,27,9,4],2016:[7,18,8,26],2017:[7,3,8,11]},{name:"Herbstferien",2010:[10,11,10,22],2011:[10,4,10,14],2012:[10,1,10,12],2013:[10,4,10,18],2014:[10,20,10,31],2015:[10,19,10,30],2016:[10,10,10,21]},{name:"Weihnachtsferien",2010:[12,23,1,7],2011:[12,22,1,6],2012:[12,20,1,4],2013:[12,23,1,7],2014:[12,22,1,7],2015:[12,23,1,8],2016:[12,22,1,6]}]},Brandenburg:{SH:[{name:"Winterferien",2010:[2,1,2,6],2011:[1,31,2,5],2012:[1,30,2,4],2013:[2,4,2,9],2014:[2,3,2,8],2015:[2,2,2,7],2016:[2,1,2,6],2017:[1,30,2,4]},{name:"Osterferien",2010:[3,31,4,10],2011:[4,20,4,30],2012:[4,4,4,14,4,30,4,30],2013:[3,27,4,6],2014:[4,16,4,26,5,2,5,2],2015:[4,1,4,11],2016:[3,23,4,2],2017:[4,12,4,22]},{name:"Pfingstferien",2010:[5,14,5,14],2011:[6,3,6,3],2012:[5,18,5,18],2013:[5,10,5,10],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26]},{name:"Sommerferien",2010:[7,8,8,21],2011:[6,30,8,13],2012:[6,21,8,3],2013:[6,20,8,2],2014:[7,10,8,22],2015:[7,16,8,28],2016:[7,21,9,3],2017:[7,20,9,1]},{name:"Herbstferien",2010:[10,11,10,23],2011:[10,4,10,14],2012:[10,1,10,13],2013:[9,30,10,12,11,1,11,1],2014:[10,20,11,1],2015:[10,19,10,30],2016:[10,17,10,28]},{name:"Weihnachtsferien",2010:[12,23,1,1],2011:[12,23,1,3],2012:[12,24,1,4],2013:[12,23,1,3],2014:[12,22,1,2],2015:[12,23,1,2],2016:[12,23,1,3]}]}},at:{PH:{Neujahrstag:[1,1],"Heilige Drei Könige":[1,6],Ostermontag:["easter",1],Staatsfeiertag:[5,1],"Christi Himmelfahrt":["easter",39],Pfingstmontag:["easter",50],Fronleichnam:["easter",60],"Mariä Himmelfahrt":[8,15],Nationalfeiertag:[10,26],Allerheiligen:[11,1],"Mariä Empfängnis":[12,8],Christtag:[12,25],Stefanitag:[12,26]}},ca:{PH:{"New Year's Day":[1,1],"Good Friday":["easter",-2],"Canada Day":["canadaDay",0],"Labour Day":["firstSeptemberMonday",0],"Christmas Day":[12,25]},Alberta:{PH:{"New Year's Day":[1,1],"Alberta Family Day":["firstFebruaryMonday",14],"Good Friday":["easter",-2],"Easter Monday":["easter",1],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Heritage Day":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25],"Boxing Day":[12,26]}},"British Columbia":{PH:{"New Year's Day":[1,1],"Family Day":["firstFebruaryMonday",7],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"British Columbia Day":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25]}},Manitoba:{PH:{"New Year's Day":[1,1],"Louis Riel Day":["firstFebruaryMonday",14],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Civic Holiday":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25]}},"New Brunswick":{PH:{"New Year's Day":[1,1],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"New Brunswick Day":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25],"Boxing Day":[12,26]}},"Newfoundland and Labrador":{PH:{"New Year's Day":[1,1],"Saint Patrick's Day":[3,17],"Good Friday":["easter",-2],"Saint George's Day":[4,23],"Discovery Day":[6,24],"Memorial Day":[7,1],"Orangemen's Day":[7,12],"Labour Day":["firstSeptemberMonday",0],"Armistice Day":[11,11],"Christmas Day":[12,25]}},"Northwest Territories":{PH:{"New Year's Day":[1,1],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"National Aboriginal Day":[6,21],"Canada Day":["canadaDay",0],"Civic Holiday":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25]}},"Nova Scotia":{PH:{"New Year's Day":[1,1],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Natal Day":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25],"Boxing Day":[12,26]}},Nunavut:{PH:{"New Year's Day":[1,1],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Nunavut Day":[7,9],"Civic Holiday":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25]}},Ontario:{PH:{"New Year's Day":[1,1],"Family Day":["firstFebruaryMonday",14],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"August Civic Public Holiday":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25],"Boxing Day":[12,26]}},"Prince Edward Island":{PH:{"New Year's Day":[1,1],"Islander Day":["firstFebruaryMonday",14],"Good Friday":["easter",-2],"Easter Monday":["easter",1],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Civic Holiday":["firstAugustMonday",0],"Gold Cup Parade Day":["firstAugustMonday",18],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25],"Boxing Day":[12,26]}},Quebec:{PH:{"Jour de l'an":[1,1],"Vendredi saint":["easter",-2],"Lundi de Pâques":["easter",1],"Journée nationale des patriotes":["victoriaDay",0],"Fête nationale du Québec":[6,24],"Fête du Canada":["canadaDay",0],"Fête du Travail":["firstSeptemberMonday",0],"Jour de l'Action de grâce":["firstOctoberMonday",7],"Noël":[12,25]}},Saskatchewan:{PH:{"New Year's Day":[1,1],"Family Day":["firstFebruaryMonday",14],"Good Friday":["easter",-2],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Saskatchewan Day":["firstAugustMonday",0],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25]}},Yukon:{PH:{"New Year's Day":[1,1],"Heritage Day":["lastFebruarySunday",-2],"Good Friday":["easter",-2],"Easter Monday":["easter",1],"Victoria Day":["victoriaDay",0],"Canada Day":["canadaDay",0],"Discovery Day":["firstAugustMonday",14],"Labour Day":["firstSeptemberMonday",0],Thanksgiving:["firstOctoberMonday",7],"Remembrance Day":[11,11],"Christmas Day":[12,25],"Boxing Day":[12,26]}}},ua:{PH:{"Новий рік":[1,1],"Різдво":[1,7],"Міжнародний жіночий день":[3,8],"Великдень":["orthodox easter",1],"День Праці 1":[5,1],"День Праці 2":[5,2],"День Перемоги":[5,9],"День Конституції України":[6,28],"День Незалежності України":[8,24]}},si:{PH:{"novo leto":[1,1],"Prešernov dan, slovenski kulturni praznik":[2,8],"velikonočna nedelja":["easter",0],"velikonočni ponedeljek":["easter",1],"dan upora proti okupatorju":[4,27],"praznik dela 1":[5,1],"praznik dela 2":[5,2],"binkoštna nedelja - binkošti":["easter",49],"dan državnosti":[6,25],"Marijino vnebovzetje":[8,15],"dan reformacije":[10,31],"dan spomina na mrtve":[11,1],"božič":[12,25],"dan samostojnosti in enotnosti":[12,26]}}},r={wrong_words:{'Assuming "<ok>" for "<ko>".':{"Frühling":"Mar-May","Frühjahr":"Mar-May",Sommer:"Jun-Aug",Herbst:"Sep-Nov",winter:"Dec-Feb"},'"<ko>" wird als "<ok>" interpertiert.':{spring:"Mar-May",summer:"Jun-Aug",autumn:"Sep-Nov",_:"-",daytime:"sunrise-sunset"},'Bitte benutze die englische Schreibweise "<ok>" für "<ko>".':{sommer:"summer",werktag:"Mo-Fr",werktags:"Mo-Fr"},'Bitte benutze "<ok>" für "<ko>". Beispiel: "Mo-Fr 08:00-12:00; Tu off".':{ruhetag:"off",ruhetage:"off",geschlossen:"off",geschl:"off"},'Neem de engelse afkorting "<ok>" voor "<ko>" alstublieft.':{gesloten:"off",feestdag:"PH",feestdagen:"PH"},'Assuming "<ok>" for "<ko>". Please avoid using "workday": http://wiki.openstreetmap.org/wiki/Talk:Key:opening_hours#need_syntax_for_holidays_and_workingdays':{wd:"Mo-Fr","on work day":"Mo-Fr","on work days":"Mo-Fr",weekday:"Mo-Fr",weekdays:"Mo-Fr",vardagar:"Mo-Fr"},'Please use something like "Mo off" instead "<ko>".':{except:"off"},'Please omit "<ko>" or use a colon instead: "12:00-14:00".':{h:""},'Please omit "<ko>".':{season:"",hs:"",hrs:"",hours:"","·":""},'Please omit "<ko>". The key must not be in the value.':{"opening_hours=":""},'Please omit "<ko>". You might want to express open end which can be specified as "12:00+" for example.':{from:""},'You can use notation "<ok>" for "<ko>" in the case that you want to express open end times. Example: "12:00+".':{"til late":"+","till late":"+","bis open end":"+","-late":"+","-open end":"+","-openend":"+"},'Please use notation "<ok>" for "<ko>". If the times are unsure or vary consider a comment e.g. 12:00-14:00 "only on sunshine".':{"~":"-","～":"-"},'Please use notation "<ok>" for "<ko>". Fallback rule: 12:00-14:00 || "call us"':{otherwise:"||"},'You can use notation "<ok>" for "<ko>" temporally if the syntax will still be valid.':{"?":'unknown "please add this if known"'},'Please use notation "<ok>" for "<ko>". Although using "–" is typographical correct, the opening_hours syntax is defined with the normal hyphen. Correct typography should be done on application level …':{"–":"-"},'Please use notation "<ok>" for "<ko>".':{"→":"-","−":"-","=":"-","ー":"-",to:"-","до":"-",a:"-",as:"-","á":"-","ás":"-","às":"-",ate:"-",till:"-",til:"-",until:"-",through:"-",and:",","&":",","：":":","°°":":00",always:"24/7",nonstop:"24/7","24x7":"24/7",anytime:"24/7","all day":"24/7",daily:"Mo-Su",everyday:"Mo-Su","every day":"Mo-Su","all days":"Mo-Su","7j/7":"Mo-Su","7/7":"Mo-Su","7days":"Mo-Su","7 days":"Mo-Su","7 days a week":"Mo-Su","7 days/week":"Mo-Su","24 hours 7 days a week":"24/7","24 hours":"00:00-24:00",midday:"12:00",midnight:"00:00",holiday:"PH",holidays:"PH","public holidays":"PH","public holiday":"PH","day after public holiday":"PH +1 day","one day after public holiday":"PH +1 day","day before public holiday":"PH -1 day","one day before public holiday":"PH -1 day","school holiday":"SH","school holidays":"SH",weekend:"Sa,Su",weekends:"Sa,Su",daylight:"sunrise-sunset"},'Please use notation "<ok>" for "<ko>". Those characters look very similar but are not the same!':{"оff":"off"},'Please use time format in 24 hours notation ("<ko>"). If PM is used you might have to convert the hours to the 24 hours notation.':{pm:"","рм":"",am:"","ам":""},'Bitte verzichte auf "<ko>".':{uhr:"","geöffnet":"",zwischen:"",ist:"",durchgehend:""},'Bitte verzichte auf "<ko>". Sie möchten eventuell eine Öffnungszeit ohne vorgegebenes Ende (Open End) angeben. Beispiel: "12:00+"':{ab:"",von:""},'Es sieht so aus also möchten Sie zusätzliche Einschränkungen für eine Öffnungszeit geben. Falls sich dies nicht mit der Syntax ausdrücken lässt können Kommentare verwendet werden. Zusätzlich sollte eventuell das Schlüsselwort `open` benutzt werden. Bitte probiere "<ok>" für "<ko>".':{damen:'open "Damen"',herren:'open "Herren"'},'Bitte benutze die Schreibweise "<ok>" für "<ko>".':{bis:"-","täglich":"Mo-Su",schulferien:"SH","sonn und feiertag":"PH,Su","sonn und feiertags":"PH,Su","sonn- und feiertags":"PH,Su","sonn-/feiertag":"PH,Su","sonn-/feiertags":"PH,Su","an sonn- und feiertagen":"PH,Su","nur sonn-/feiertags":"PH,Su","sonn- und feiertage":"PH,Su"},'Bitte benutze die Schreibweise "<ok>" für "<ko>". Es ist war typografisch korrekt aber laut der Spezifikation für opening_hours nicht erlaubt. Siehe auch: http://wiki.openstreetmap.org/wiki/DE:Key:opening_hours:specification.':{"„":'"',"“":'"',"”":'"'},'Please use notation "<ok>" for "<ko>". The used quote signs might be typographically correct but are not defined in the specification. See http://wiki.openstreetmap.org/wiki/Key:opening_hours:specification.':{"«":'"',"»":'"',"‚":'"',"‘":'"',"’":'"',"「":'"',"」":'"',"『":'"',"』":'"'},'Please use notation "<ok>" for "<ko>". The used quote signs are not defined in the specification. See http://wiki.openstreetmap.org/wiki/Key:opening_hours:specification.':{"'":'"'},'You might want to use comments instead of brackets (which are not valid in this context). If you do, replace "<ok>" with "<ko>".':{},'Bitte benutze die Schreibweise "<ok>" als Ersatz für "und" bzw. "u.".':{und:",",u:","},'Bitte benutze die englische Abkürzung "<ok>" für "<ko>".':{feiertag:"PH",feiertags:"PH",feiertage:"PH",feiertagen:"PH"},'S\'il vous plaît utiliser "<ok>" pour "<ko>".':{"fermé":"off",et:",","à":"-","jours fériés":"PH"}},month:{default:{jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},'Please use the English abbreviation "<ok>" for "<ko>".':{"jänner":0,january:0,february:1,march:2,april:3,june:5,july:6,august:7,september:8,sept:8,october:9,november:10,december:11},'Bitte benutze die englische Abkürzung "<ok>" für "<ko>".':{januar:0,februar:1,"märz":2,maerz:2,mai:4,juni:5,juli:6,okt:9,oktober:9,dez:11,dezember:11},'S\'il vous plaît utiliser l\'abréviation "<ok>" pour "<ko>".':{janvier:0,"février":1,"fév":1,mars:2,avril:3,avr:3,mai:4,juin:5,juillet:6,"août":7,"aoû":7,septembre:8,octobre:9,novembre:10,"décembre":11},'Neem de engelse afkorting "<ok>" voor "<ko>" alstublieft.':{januari:0,februari:1,maart:2,mei:4,augustus:7}},calcday:{default:{day:"day",days:"days"}},weekday:{default:{su:0,mo:1,tu:2,we:3,th:4,fr:5,sa:6},'Assuming "<ok>" for "<ko>"':{m:1,w:3,f:5},'Please use the abbreviation "<ok>" for "<ko>".':{sun:0,sunday:0,sundays:0,mon:1,monday:1,mondays:1,tue:2,tues:2,tuesday:2,tuesdays:2,wed:3,weds:3,wednesday:3,wednesdays:3,thu:4,thur:4,thurs:4,thursday:4,thursdays:4,fri:5,friday:5,fridays:5,sat:6,saturday:6,saturdays:6},'Bitte benutze die englische Abkürzung "<ok>" für "<ko>". Could also mean Saturday in Polish …':{so:0},'Bitte benutze die englische Abkürzung "<ok>" für "<ko>".':{son:0,sonntag:0,"sonn-":0,sonntags:0,montag:1,montags:1,di:2,die:2,dienstag:2,dienstags:2,mi:3,mit:3,mittwoch:3,mittwochs:3,do:4,don:4,donnerstag:4,donnerstags:4,fre:5,freitag:5,freitags:5,sam:6,samstag:6,samstags:6},'S\'il vous plaît utiliser l\'abréviation "<ok>" pour "<ko>".':{dim:0,dimanche:0,lu:1,lun:1,lundi:1,mardi:2,mer:3,mercredi:3,je:4,jeu:4,jeudi:4,ve:5,ven:5,vendredi:5,samedi:6},'Neem de engelse afkorting "<ok>" voor "<ko>" alstublieft.':{zo:0,zon:0,zontag:0,zondag:0,maandag:1,din:2,dinsdag:2,wo:3,woe:3,woensdag:3,donderdag:4,vr:5,vri:5,vrijdag:5,za:6,zat:6,zaterdag:6},'Please use the English abbreviation "<ok>" for "<ko>".':{"neděle":0,ne:0,"pondělí":1,po:1,"úterý":2,"út":2,"středa":3,st:3,"čtvrtek":4,"čt":4,"pátek":5,"pá":5,sobota:6},'Please use the English abbreviation "<ok>" (Spanish) for "<ko>".':{martes:0,"miércoles":1,jueves:2,viernes:3,"sábado":4,domingo:5,lunes:6},'Please use the English abbreviation "<ok>" (Indonesian) for "<ko>".':{selasa:0,rabu:1,kami:2,jumat:3,sabtu:4,minggu:5,senin:6},'Please use the English abbreviation "<ok>" (Swedish) for "<ko>".':{"söndag":0,"söndagar":0,"måndag":1,ma:1,tisdag:2,onsdag:3,torsdag:4,fredag:5,"lördag":6,"lördagar":6},'Please use the English abbreviation "<ok>" (Polish) for "<ko>".':{niedziela:0,niedz:0,n:0,ndz:0,"poniedziałek":1,poniedzialek:1,pon:1,pn:1,wtorek:2,wt:2,"środa":3,sroda:3,"śr":3,sr:3,czwartek:4,czw:4,cz:4,"piątek":5,piatek:5,pt:5,sobota:6,sob:6},'Please use the English abbreviation "<ok>" (Russian) for "<ko>".':{"воскресенье":0,"Вс":0,"voskresen'ye":0,"понедельник":1,"Пн":1,"ponedel'nik":1,"вторник":2,vtornik:2,"среда":3,sreda:3,"четверг":4,chetverk:4,"пятница":5,pyatnitsa:5,"суббота":6,subbota:6},'Please use the English abbreviation "<ok>" (Danish) for "<ko>".':{"søndag":0,mandag:1,tirsdag:2,onsdag:3,torsdag:4,fredag:5,"lørdag":6}},timevar:{default:{sunrise:"sunrise",sunset:"sunset",dawn:"dawn",dusk:"dusk"},'Please use notation "<ok>" for "<ko>".':{sundown:"sunset"},'Bitte benutze die Schreibweise "<ok>" für "<ko>".':{"morgendämmerung":"dawn","abenddämmerung":"dusk",sonnenaufgang:"sunrise",sonnenuntergang:"sunset"}},event:{default:{easter:"easter"},'Bitte benutze die Schreibweise "<ok>" für "<ko>".':{ostern:"easter"}}};"object"==typeof exports?(n=require("suncalc"),module.exports=t(n,a,r)):e.opening_hours=t(e.SunCalc,a,r)}(this,function(se,ue,le){return function(r,e,v){var a,i,c,y,p={dawn:330,sunrise:360,sunset:1080,dusk:1110},b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["Su","Mo","Tu","We","Th","Fr","Sa"],k={zero_pad_hour:!0,one_zero_if_hour_zero:!1,leave_off_closed:!0,keyword_for_off_closed:"off",rule_sep_string:" ",print_semicolon:!0,leave_weekday_sep_one_day_betw:!0,sep_one_day_between:",",zero_pad_month_and_week_numbers:!1},D=1440,M=6e4*D,S="opening_hours.js",o="https://github.com/ypid/"+S,t=o+"/issues?state=open";if(void 0!==e&&(void 0!==e.address&&void 0!==e.address.state&&(a=e.address.country_code,i=e.address.state),void 0!==e.lon&&(c=e.lat,y=e.lon)),void 0===v)v=0;else if("number"!=typeof v||0!==v&&1!=v&&2!=v)throw"The third constructor parameter is oh_mode and must be a number (0, 1 or 2)";if(r.match(/^(?:\s*;?\s*)+$/))throw"Value contains nothing meaningful which can be parsed";for(var P=[],F=!1,T=!1,H=!1,s=function e(t){var n=[];var a=[];var r=!1;for(;""!==t;){var i;if(i=t.match(/^week\b/i))a.push([i[0].toLowerCase(),i[0].toLowerCase(),t.length]),t=t.substr(i[0].length);else if(i=t.match(/^(?:off\b|closed\b|open\b|unknown\b)/i))a.push([i[0].toLowerCase(),"state",t.length]),t=t.substr(i[0].length);else if(i=t.match(/^24\/7/i))a.push([i[0],i[0],t.length]),t=t.substr(i[0].length);else if(i=t.match(/^(?:PH|SH)/i))a.push([i[0].toUpperCase(),"holiday",t.length]),t=t.substr(2);else if(i=t.match(/^(&|_|→|–|−|=|·|opening_hours=|ー|\?|~|～|：|°°|24x7|24 hours 7 days a week|24 hours|7 ?days(?:(?: a |\/)week)?|7j?\/7|all days?|every day|(?:|-|till? |bis )?(?:late|open[ ]?end)|(?:(?:one )?day (?:before|after) )?(?:school|public) holidays?|days?\b|до|рм|ам|jours fériés|on work days?|sonntag?|(?:nur |an )?sonn-?(?:(?: und |\/)feiertag(?:s|en?)?)?|[a-zäößàáéøčěíúýřПнВсо]+\b|à|á|mo|tu|we|th|fr|sa|su|jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)\.?/i)){var o,s,u=d(i[1].toLowerCase(),t.length);if("object"==typeof u)a.push([u[0],u[1],t.length]),t=t.substr(i[0].length);else if("string"==typeof u){"pm"!=i[1].toLowerCase()||0<=(o=a.length-1)&&(0<=o-2&&W(a,o-2,"number","timesep","number")?s=a[o-=2]:W(a,o,"number")&&(s=a[o]),"object"==typeof s&&s[0]<=12&&(s[0]+=12,a[o]=s));var l=e(u)[0];if(!0===l[1])throw N();for(var h=0;h<l[0].length;h++)a.push([l[0][h][0],l[0][h][1],t.length]);t=t.substr(i[0].length)}else a.push([t[0].toLowerCase(),t[0].toLowerCase(),t.length-1]),t=t.substr(1)}else if(i=t.match(/^\d+/))1900<Number(i[0])?(a.push([i[0],"year",t.length]),2100<=Number(i[0])&&P.push([-1,t.length-1,"The number "+Number(i[0])+' will be interpreted as year. This is probably not intended. Times can be specified as "12:00".'])):a.push([Number(i[0]),"number",t.length]),t=t.substr(i[0].length);else if(i=t.match(/^"([^"]+)"/))a.push([i[1],"comment",t.length]),t=t.substr(i[0].length);else if(i=t.match(/^(["'„“‚‘’«「『])([^"'“”‘’»」』;|]*)(["'”“‘’»」』])/)){for(var f=1;f<=3;f+=2){var u=d(i[f],t.length-(3==f?i[1].length+i[2].length:0));if("string"!=typeof u&&'"'!=i[f])throw N("A character for error tolerance was allowed in the regular expression but is not covered by word_error_correction which is needed to format a proper message for the user.")}a.push([i[2],"comment",t.length]),t=t.substr(i[0].length)}else if(t.match(/^;/))n.push([a,r,t.length]),t=t.substr(1),r=!(a=[]);else if(t.match(/^\|\|/)){if(0===a.length)throw A(-1,t.length-2,"Rule before fallback rule does not contain anything useful");n.push([a,r,t.length]),a=[],t=t.substr(2),r=!0}else t=t.match(/^(?:␣|\s)/)?t.substr(1):(i=t.match(/^\s+/))?t.substr(i[0].length):(t.match(/^[:.]/)?("."!=t[0]||F||P.push([-1,t.length-1,'Please use ":" as hour/minute-separator']),a.push([":","timesep",t.length])):a.push([t[0].toLowerCase(),t[0].toLowerCase(),t.length]),t.substr(1))}n.push([a,r]);return n}(r),_="",Y=!0,x=[],j=[],C=0;C<s.length;C++)if(0!==s[C][0].length){var n=0,u=!1;do{if(n==s[C][0].length)break;var z={time:[],wraptime:[],weekday:[],holiday:[],week:[],month:[],monthday:[],year:[],date:[],fallback:s[C][1],additional:!!n,meaning:!0,unknown:!1,comment:void 0,build_from_token_rule:void 0};if(z.build_from_token_rule=[C,n,j.length],n="object"==typeof(n=function(e,t,n,a){var r=!1;for(;t<e.length;){if(W(e,t,"weekday"))t=K(e,t,n);else if(W(e,t,"24/7"))n.time.push(function(e){return[!0]}),t++;else if(W(e,t,"holiday"))t=W(e,t+1,",")?$(e,t,n,!0):$(e,t,n,!1),Y=!1;else if(W(e,t,"month","number")||W(e,t,"month","weekday")||W(e,t,"year","month","number")||W(e,t,"year","event")||W(e,t,"event"))t=oe(e,t,a),Y=!1;else if(W(e,t,"year"))t=function(e,t){for(e[t][3]="year";t<e.length;t++){if(!W(e,t,"year"))throw A(C,t,"Unexpected token in year range: "+e[t][1]);var n,a,r=!1;W(e,t+1,"-","year","/","number")?(n=r=!0,a=parseInt(e[t+4][0]),U(t+4,a,"year")):(r=W(e,t+1,"-","year"),(n=W(e,t+1,"/","number"))?(a=parseInt(e[t+2][0]),U(t+2,a,"year","no_end_year")):W(e,t+1,"+")&&(a=1,n=2));var i=parseInt(e[t][0]);if(r&&e[t+2][0]<=i)throw e[t+2][0]==i?A(C,t,'A year range in which the start year is equal to the end year does not make sense. Please remove the end year. E.g. "'+i+' May 23"'):A(C,t,"A year range in which the start year is greater than the end year does not make sense. Please turn it over.");if(z.year.push(function(n,a,r,i,o,s){return function(e){var t=e.getFullYear(),e=i?parseInt(n[a+2][0]):r;if(t<r)return[!1,new Date(r,0,1)];if(o){if(r<=t){if(i&&e<t)return[!1];if(0<s)return(t-r)%s==0?[!0,new Date(t+1,0,1)]:[!1,new Date(t+s-1,0,1)]}}else if(i){if(t<=e)return[!0,new Date(e+1,0,1)]}else if(t==r)return[!0];return[!1]}}(e,t,i,r,n,a)),!W(e,t+=1+(r?2:0)+(n?2==n?1:2:0),","))break}return t}(e,t),Y=!1;else if(W(e,t,"month"))t=re(e,t);else if(W(e,t,"week"))e[t][3]="week",t=function(e,t){for(;t<e.length;t++){if(W(e,t,"week")&&t++,!W(e,t,"number"))throw A(C,t,"Unexpected token in week range: "+e[t][1]);var n=W(e,t+1,"-","number"),a=0,r=e[t][0],i=n?e[t+2][0]:r;if(i<r)throw A(C,t+2,"You have specified a week range in reverse order or leaping over a year. This is (currently) not supported.");if(r<1)throw A(C,t,"You have specified a week date less then one. A valid week date range is 1-53.");if(53<i)throw A(C,n?t+2:t,"You have specified a week date greater then 53. A valid week date range is 1-53.");if(n&&(a=W(e,t+3,"/","number"))){if((a=e[t+4][0])<2)throw A(C,t+4,"You have specified a week period which is less than two. If you want to select the whole range from week "+r+" to week "+i+' then just omit the "/'+a+'".');if(26<a)throw A(C,t+4,'You have specified a week period which is greater than 26. 26.5 is the half of the maximum 53 week dates per year so a week date period greater than 26 would only apply once per year. Please specify the week selector as "week '+r+'" if that is what you want to express.')}if(!Y||r<=1&&53<=i&&!a||(Y=!1),a||1!=r||53!=i?z.week.push(function(n,a,r){return function(e){var t=function(e){(e=new Date(+e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}(e);return t<n||a<t?[!1,ae(n,e)]:r?(t-n)%r==0?[!0,ae(t+1,e)]:[!1,ae(t+r-1,e)]:[!0,ae(53==a?1:a+1,e)]}}(r,i,a)):z.week.push(function(e){return[!0]}),!W(e,t+=1+(n?2:0)+(a?2:0),","))break}return t}(e,t);else if(0!==t&&t!=e.length-1&&":"==e[t][0])!F&&W(e,t-1,"holiday")&&P.push([a,t,'Please don’t use ":" after '+e[t-1][1]+"."]),t++;else if(W(e,t,"number","timesep")||W(e,t,"timevar")||W(e,t,"(","timevar")||W(e,t,"number","-"))t=function e(t,n,a,r){r||(t[n][3]="time");for(;n<t.length;n++){var i,o,s=[],u=[];if(u[0]=W(t,n,"number","timesep","number"),s[0]=W(t,n,"(","timevar"),u[0]||W(t,n,"timevar")||s[0]){var l,h=!1,f=!1,d=[0,0],g=[];u[0]?i=q(t,C,n+s[0]):(g[0]=t[n+s[0]][0],i=p[g[0]],s[0]&&(d[0]=J(t,n),i+=d[0]));var m=n+(u[0]?3:s[0]?7:1)+1;if(!W(t,m-1,"-"))if(W(t,m-1,"+"))f=!0;else{if(0===v)throw A(C,n+(u[0]?"object"==typeof t[n+3]?3:2:s[0]?2:void 0!==t[n+1]?1:0),"hyphen (-) or open end (+) in time range "+(s[0]?"calculation ":"")+"expected. For working with points in time, the mode for "+S+" has to be altered. Maybe wrong tag?");o=i+1,h=!0}if(f)1===r&&(i+=D),o=1320<=i?i+480:1020<=i?i+600:D;else if(!h){if(u[1]=W(t,m,"number","timesep","number"),s[1]=W(t,m,"(","timevar"),!(u[1]||W(t,m,"timevar")||s[1]))throw A(C,m-(void 0!==t[m]?0:1),"Time range does not continue as expected");o=u[1]?q(t,C,m):(g[1]=t[m+s[1]][0],p[g[1]]),s[1]&&(d[1]=J(t,m),o+=d[1])}if(n=m+(h?-1:u[1]?3:s[1]?7:!f),W(t,n,"/","number")){if(W(t,n+2,"timesep","number"))l=q(t,C,n+1),n+=4;else if(l=t[n+1][0],W(t,n+=2,"timesep"))throw A(C,n,'Time period does not continue as expected. Exampe "/01:30".');if(0===v)throw A(C,n-1,'opening_hours is running in "time range mode". Found point in time.');h=!0}else if(W(t,n,"+"))e(t,m,a,!(o<i)||1),n++;else if(1==v&&!h)throw A(C,m,'opening_hours is running in "points in time mode". Found time range.');if(void 0!==c?u[0]&&(u[1]||f||h)||(Y=!1):g=[],!r&&D<=i)throw A(C,m-2,"Time range starts outside of the current day");if((o<i||u[0]&&u[1]&&i==o)&&(o+=D),2*D<o)throw A(C,m+(u[1]?4:s[1]?7:1)-2,"Time spanning more than two midnights not supported");0===i&&o==D?a.time.push(function(e){return[!0]}):D<o?(a.time.push(function(r,i,o,s,u,l,h,f){return function(e){var t,n=60*e.getHours()+e.getMinutes();if(o[0]&&(t=se.getTimes(e,c,y)[o[0]],r=60*t.getHours()+t.getMinutes()+s[0]),o[1]?(t=se.getTimes(e,c,y)[o[1]],i=60*t.getHours()+t.getMinutes()+s[1],i+=D):l&&"number"!=typeof h&&(i=r+1),"number"!=typeof h)return n<r?[!1,E(e,r)]:[!0,E(e,i),u,f];if(n<r)return[!1,E(e,r)];if(n<=i)for(var a=r;a<=n+h;a+=h){if(a==n)return[!0,E(e,n+1)];if(n<a)return[!1,E(e,a)]}return[!1,E(e,D)]}}(i,o,g,d,f,h,l,r)),a.wraptime.push(function(r,i,o,s,u,l){return function(e){var t,n=60*e.getHours()+e.getMinutes();if(i[0]&&(t=se.getTimes(e,c,y)[i[0]],t.getHours(),t.getMinutes(),o[0]),i[1]&&(t=se.getTimes(e,c,y)[i[1]],r=60*t.getHours()+t.getMinutes()+o[1]),"number"==typeof u){if(n<=r)for(var a=0;a<=n+u;a+=u){if(a==n)return[!0,E(e,n+1)];if(n<a)return[!1,E(e,a)]}}else if(n<r)return[!0,E(e,r),s,l];return[!1,void 0]}}(o-D,g,d,f,l,r))):a.time.push(function(r,i,o,s,u,l,h){return function(e){var t,n=60*e.getHours()+e.getMinutes();if(o[0]&&(t=se.getTimes(e,c,y)[o[0]],r=60*t.getHours()+t.getMinutes()+s[0]),o[1]?(t=se.getTimes(e,c,y)[o[1]],i=60*t.getHours()+t.getMinutes()+s[1]):l&&"number"!=typeof h&&(i=r+1),"number"!=typeof h)return n<r?[!1,E(e,r)]:n<i?[!0,E(e,i),u]:[!1,E(e,r+D)];if(n<r)return[!1,E(e,r)];if(n<=i)for(var a=r;a<=n+h;a+=h){if(a==n)return[!0,E(e,n+1)];if(n<a)return[!1,E(e,a)]}return[!1,E(e,D)]}}(i,o,g,d,f,h,l))}else{if(!W(t,n,"number","-","number")){if(W(t,n,"("))throw A(C,n,'Missing variable time (e.g. sunrise) after: "'+t[n][1]+'"');if(W(t,n,"number","timesep"))throw A(C,n+1,'Missing minutes in time range after: "'+t[n+1][1]+'"');if(W(t,n,"number"))throw A(C,n+(void 0!==t[n+1]?1:0),'Missing time separator in time range after: "'+t[n][1]+'"');return[n]}if(i=60*t[n][0],o=60*t[n+2][0],F||P.push([C,n+2,'Time range without minutes specified. Not very explicit! Please use this syntax instead "'+(t[n][0]<10?"0":"")+t[n][0]+":00-"+(t[n+2][0]<10?"0":"")+t[n+2][0]+':00".']),D<=i)throw A(C,n,"Time range starts outside of the current day");if(o<i&&(o+=D),2*D<o)throw A(C,n+2,"Time spanning more than two midnights not supported");D<o?(a.time.push(function(n,a){return function(e){var t=60*e.getHours()+e.getMinutes();return t<n?[!1,E(e,n)]:[!0,E(e,a)]}}(i,o)),a.wraptime.push(function(n){return function(e){var t=60*e.getHours()+e.getMinutes();return t<n?[!0,E(e,n)]:[!1,void 0]}}(o-D))):a.time.push(function(n,a){return function(e){var t=60*e.getHours()+e.getMinutes();return t<n?[!1,E(e,n)]:t<a?[!0,E(e,a),f]:[!1,E(e,n+D)]}}(i,o)),n+=3}if(!W(t,n,","))break}return n}(e,t,n,!1);else if(W(e,t,"state"))"open"==e[t][0]?n.meaning=!0:"closed"==e[t][0]||"off"==e[t][0]?n.meaning=!1:(n.meaning=!1,n.unknown=!0),r=!0,"object"==typeof e[++t]&&","==e[t][0]&&(t=[t+1]);else if(W(e,t,"comment"))n.comment=e[t][0],r||(n.meaning=!1,n.unknown=!0),r=!0,"object"==typeof e[++t]&&","==e[t][0]&&(t=[t+1]);else{if(0!==t&&t!=e.length-1||!W(e,t,"rule separator")){var i=g();throw A(a,t,'Unexpected token: "'+e[t][1]+'" This means that the syntax is not valid at that point or it is currently not supported.')+(i?" "+i.join("; "):"")}t++,console.log("value: "+a)}if("object"==typeof t){e[t[0]-1][1]="rule separator";break}}return t}(s[C][0],n,z,C))?n[0]:0,j.push([s[C][0].slice(z.build_from_token_rule[1],0===n?s[C][0].length:n),s[C][1],s[C][2]]),u&&1<j.length&&j[j.length-1][0].unshift(j[j.length-2][0].pop()),u=0!==n,0<z.year.length&&z.date.push(z.year),0<z.holiday.length&&z.date.push(z.holiday),0<z.month.length&&z.date.push(z.month),0<z.monthday.length&&z.date.push(z.monthday),0<z.week.length&&z.date.push(z.week),0<z.weekday.length&&z.date.push(z.weekday),x.push(z),0<z.wraptime.length){for(var l={time:z.wraptime,date:[],meaning:z.meaning,unknown:z.unknown,comment:z.comment,wrapped:!0,build_from_token_rule:z.build_from_token_rule},h=0;h<z.date.length;h++){l.date.push([]);for(var f=0;f<z.date[h].length;f++)l.date[l.date.length-1].push(function(t,n){return function(e){e=t(new Date(e.getTime()+n));return void 0===e[1]?e:[e[0],new Date(e[1].getTime()-n)]}}(z.date[h][f],-M))}x.push(l)}}while(n)}else P.push([C,-1,"This rule does not contain anything useful. Please remove this empty rule."+(C==s.length-1&&0<C&&!s[C][1]?" Might it be possible that you are a programmer and adding a semicolon after each statement is hardwired in your muscle memory ;) ? The thing is that the semicolon in the opening_hours syntax is defined as rule separator. So for compatibility reasons you should omit this last semicolon.":"")]);function A(e,t,n){if("number"==typeof e){var a=0;return-1==e?a=r.length-t:void 0===s[e][0][t]?(s[e][0],-1==t?(a=r.length,"object"==typeof s[e+1]&&"number"==typeof s[e+1][2]?a-=s[e+1][2]:"number"==typeof s[e][2]&&(a-=s[e][2])):(N("Bug in warning generation code which could not determine the exact position of the warning or error in value."),a=r.length,void 0!==s[e][2]&&(a-=s[e][2],console.warn("Last token for rule: "+s[e]),console.log(r.substring(0,a)+" <--- ("+n+")"),console.log("\n")),console.warn("tokens[nrule][2] is undefined. This is ok if nrule is the last rule."))):(a=r.length,void 0!==s[e][0][t+1]?a-=s[e][0][t+1][2]:void 0!==s[e][2]&&(a-=s[e][2])),r.substring(0,a)+" <--- ("+n+")"}if("string"==typeof e)return e.substring(0,t)+" <--- ("+n+")"}function N(e){return e='An error occurred during evaluation of the value "'+r+'". Please file a bug report here: '+t+"."+(e=void 0===e?"":" "+e),console.log(e),e}function d(e,t){for(var n in le)for(var a in le[n])for(var r in le[n][a])if(r==e){var i,o=le[n][a][r];if("default"==a)return[o,n];if("wrong_words"!=n||F){for(i in le[n].default)if(le[n].default[i]==o)break;if(void 0===i)throw N("Including the stacktrace.");return"timevar"!=n&&(i=i.charAt(0).toUpperCase()+i.slice(1)),F||P.push([-1,t-r.length,a.replace(/<ko>/,r).replace(/<ok>/,i)]),[o,n]}return P.push([-1,t-r.length,a.replace(/<ko>/,r).replace(/<ok>/,o)]),o}}function g(e){if(!F&&"object"==typeof e){for(var t=["year","month","week","holiday"],n=["weekday","time","24/7","state","comment"],a=[],r=[],i={},o=0;o<j.length;o++)if(0!==j[o][0].length){var s=[0,0,void 0];for(a[o]={},r[o]=[];(s=O(j[o][0],s[1]))[0]==s[1]&&"24/7"==j[o][0][s[0]][0]&&(i["24/7"]=!0),"object"!=typeof a[o][s[2]]?a[o][s[2]]=[s[1]]:a[o][s[2]].push(s[1]),r[o].push(s[2]),s[1]++,s[1]<j[o][0].length;);}for(o=0;o<a.length;o++){for(var u in a[o])1<a[o][u].length&&(P.push([o,a[o][u][a[o][u].length-1],"You have used "+a[o][u].length+(u.match(/^(?:comment|state)/)?" "+u+("state"==u?" keywords":"s")+" in one rule. You may only use one in one rule.":" not connected "+u+(u.match(/^(?:month|weekday)$/)?"s":" ranges")+' in one rule. This is probably an error. Equal selector types can (and should) always be written in conjunction separated by comma. Example for time ranges "12:00-13:00,15:00-18:00". Example for weekdays "Mo-We,Fr".')+' Rules can be separated by ";".']),T=!0);"object"==typeof a[o].state&&1===Object.keys(a[o]).length?0!==o&&P.push([o,j[o][0].length-1,"This rule which changes the default state (which is closed) for all following rules is not the first rule. The rule will overwrite all previous rules. It can be legitimate to change the default state to open for example and then only specify for which times the facility is closed."]):void 0===a[o].time&&("object"==typeof a[o].state&&"open"===j[o][0][a[o].state[0]][0]&&void 0===a[o].comment||void 0===a[o].comment&&void 0===a[o].state&&void 0===a[o]["24/7"])&&P.push([o,j[o][0].length-1,"This rule is not very explicit because there is no time selector being used. Please add a time selector to this rule or use a comment to make it more explicit."]),"object"==typeof a[o].comment&&0===j[o][0][a[o].comment[0]][0].length&&P.push([o,a[o].comment[0],"You have used an empty comment. Please either write something in the comment or use the keyword unknown instead."]),"object"==typeof j[o][0][0]&&","===j[o][0][0][0]&&"rule separator"===j[o][0][0][1]&&"object"==typeof a[o].state&&("closed"===j[o][0][a[o].state[0]][0]||j[o][0][a[o].state[0]][0]);for(var l=0;l<r[o].length-1;l++){var u=r[o][l],h=r[o][l+1];(-1!=t.indexOf(u)&&-1!=t.indexOf(h)||-1!=n.indexOf(u)&&-1!=n.indexOf(h))&&":"==j[o][0][a[o][u][0]][0]&&P.push([o,a[o][u][0],"You have used the optional symbol <separator_for_readability> in the wrong place. Please check the syntax specification to see where it could be used or remove it."])}}!0===e.advance()&&i["24/7"]&&!F&&P.push([-1,0,'You used 24/7 in a way that is probably not interpreted as "24 hours 7 days a week". For correctness you might want to use "open" or "closed" for this rule and then write your exceptions which should achieve the same goal and is more clear e.g. "open; Mo 12:00-14:00 off".']),B()}F=!0;for(var f=[],l=0;l<P.length;l++)f.push(A(P[l][0],P[l][1],P[l][2]));return f}function m(e,t){return"string"==typeof e[t][3]?3:("comment"==e[t][1]||"state"==e[t][1]||"24/7"==e[t][1]||"rule separator"==e[t][1])&&1}function O(e,t){for(var n,a,r=t;0<=r&&!(a=m(e,r));r--);if(n=r,1===a)return n+1<e.length&&":"==e[n+1][0]&&n++,[r,n,e[r][a]];for(n++;n<e.length;n++)if(m(e,n))return[r,n-1,e[r][a]];return[r,n-1,e[r][a]]}function B(e){var t,n,a={},r=!1;for(n in void 0!==e&&("object"==typeof e.conf&&(a=e.conf),"number"==typeof e.rule_index&&(t=e.rule_index),!0===e.get_internals&&(r=!0)),k)void 0===a[n]&&(a[n]=k[n]);_="";for(var i=[],o=0;o<j.length;o++)if(0!==j[o][0].length){if("number"==typeof t){if(t!=o)continue}else 0!==o&&(_+=j[o][1]?a.rule_sep_string+"|| ":("rule separator"==j[o][0][0][1]?",":a.print_semicolon?";":"")+a.rule_sep_string);var s=[0,0,void 0],u=[],l=0;do{if(s=O(j[o][0],s[1]),50<l)throw N("infinite loop");"rule separator"!=s[2]&&u.push([s,function(e,t,n,a,r){var i="",o=t;for(;o<=n;)W(e,o,"weekday")?(!r.leave_weekday_sep_one_day_betw&&1<o-t&&(W(e,o-1,",")||W(e,o-1,"-"))&&W(e,o-2,"weekday")&&e[o][0]==(e[o-2][0]+1)%7&&(i=i.substring(0,i.length-1)+r.sep_one_day_between),i+=w[e[o][0]]):0<o-t&&"time"==a&&W(e,o-1,"timesep")&&W(e,o,"number")?i+=(e[o][0]<10?"0":"")+e[o][0].toString():"time"==a&&r.zero_pad_hour&&o!=e.length&&W(e,o,"number")&&W(e,o+1,"timesep")?i+=(!(e[o][0]<10)||0===e[o][0]&&r.one_zero_if_hour_zero?"":"0")+e[o][0].toString():"time"==a&&o+2<=n&&W(e,o,"number")&&W(e,o+1,"-")&&W(e,o+2,"number")?(i+=(!(e[o][0]<10)||0===e[o][0]&&r.one_zero_if_hour_zero?"":"0")+e[o][0].toString(),i+=":00-"+(e[o+2][0]<10?"0":"")+e[o+2][0].toString()+":00",o+=2):W(e,o,"comment")?i+='"'+e[o][0].toString()+'"':W(e,o,"closed")?i+=r.leave_off_closed?e[o][0]:r.keyword_for_off_closed:0<o-t&&W(e,o,"number")&&(W(e,o-1,"month")&&"month"==a||W(e,o-1,"week")&&"week"==a)?i+=" "+(r.zero_pad_month_and_week_numbers&&e[o][0]<10?"0":"")+e[o][0]:0<o-t&&W(e,o,"month")&&W(e,o-1,"year")?i+=" "+b[[e[o][0]]]:0<o-t&&W(e,o,"event")&&W(e,o-1,"year")?i+=" "+e[o][0]:W(e,o,"month")?(i+=b[[e[o][0]]],o+1<=n&&W(e,o+1,"weekday")&&(i+=" ")):o+2<=n&&(W(e,o,"-")||W(e,o,"+"))&&W(e,o+1,"number","calcday")?(i+=" "+e[o][0]+e[o+1][0]+" day"+(1==Math.abs(e[o+1][0])?"":"s"),o+=2):o==n&&"weekday"==a&&":"==e[o][0]||(i+=e[o][0].toString()),o++;return i}(j[o][0],s[0],s[1],s[2],a)]),s[1]++,l++}while(s[1]<j[o][0].length);var h=u.slice();T||u.sort(function(e,t){var n=["year","month","week","holiday","weekday","time","24/7","state","comment"];return n.indexOf(e[0][2])-n.indexOf(t[0][2])});var f=_.length;if(_+=u.map(function(e){return e[1]}).join(" "),i.push(u),!H)for(var d=0,g=h.length;d<g;d++)if(h[d]!=u[d]){for(var m=d+f,c=0;c<=d;c++)m+=u[c][1].length;P.push([_,m,'The selector "'+u[d][0][2]+'" was switched with the selector "'+h[d][0][2]+'" for readablitity and compatibiltity reasons.'])}}return H=!0,r?[i,j]:_}function W(e,t){if(t+arguments.length-2>e.length)return!1;for(var n=0;n<arguments.length-2;n++)if(e[t+n][1]!==arguments[n+2])return!1;return!0}function E(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t)}function R(e,t){t-=e.getDay();return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t+(t<0?7:0))}function I(e,t,n){for(;t<e.length;t++){if(W(e,t,"number","-","number"))n(e[t][0],e[t+2][0],t),t+=3;else if(W(e,t,"-","number"))n(-e[t+1][0],-e[t+1][0],t),t+=2;else{if(!W(e,t,"number"))throw A(C,t+W(e,t,"-"),"Unexpected token in number range: "+e[t][1]);n(e[t][0],e[t][0],t),t++}if(!W(e,t,","))break}return t}function L(e,t){var a=0,t=I(e,t,function(e,t,n){if(0===e||e<-5||5<e)throw A(C,n,"Number between -5 and 5 (except 0) expected");if(e!=t)throw A(C,n+2,"You can not use a range of constrained weekdays in a month range");if(0!==a)throw A(C,n,"You can not use more than one constrained weekday in a month range");a=e});if(!W(e,t,"]"))throw A(C,t,'"]" expected.');return[a,t+1]}function U(e,t,n,a){if(!F){if(0===t)throw A(C,e,"You can not use "+n+" ranges with period equals zero.");1===t&&("string"==typeof a&&"no_end_year"==a?P.push([C,e,"Please don’t use "+n+' ranges with period equals one. If you want to express that a facility is open starting from a year without limit use "<year>+".']):P.push([C,e,"Please don’t use "+n+" ranges with period equals one."]))}}function V(e,t,n,a,r){n=R(new Date(e,t+(0<a[0]?0:1),1),n);return n.setDate(n.getDate()+7*(a[0]+(0<a[0]?-1:0))),void 0!==r&&r[1]&&n.setDate(n.getDate()+r[0]),n}function G(e,t,n,a){if(t<1||31<t)throw A(n,a,"Day must be between 1 and 31.");if((3==e||5==e||8==e||10==e)&&31==t)throw A(n,a,"Month "+b[e]+" doesn't have 31 days.!");if(1==e&&30==t)throw A(n,a,"Month "+b[1]+" either has 28 or 29 days (leap years).")}function q(e,t,n){if(59<e[n+2][0])throw A(t,n+2,"Minutes are greater than 59.");return 60*e[n][0]+e[n+2][0]}function J(e,t){if(W(e,t+2,"+")||W(e,t+2,"-"))if(W(e,t+3,"number","timesep","number")){if(W(e,t+6,")")){var n="+"==e[t+2][0]?"1":"-1",n=q(e,C,t+3)*n;return 0==n&&P.push([C,t+5,'Adding zero in a variable time calculation does not change the variable time. Please omit the calculation (example: "sunrise-(sunset-00:00)").']),n}n=[t+6,'. Missing ")".']}else n=[t+5," (time)."];else n=[t+2,'. "+" or "-" expected.'];if(n)throw A(C,n[0],"Calculcation with variable time is not in the right syntax"+n[1])}function K(e,t,n,a){for(a||(a=!0,e[t][3]="weekday");t<e.length;t++){if(W(e,t,"weekday","[")){var r=[],i=I(e,t+2,function(e,t,n){if(0===e||e<-5||5<e)throw A(C,n,"Number between -5 and 5 (except 0) expected");if(e==t)r.push(e);else{if(!(e<t))throw A(C,n+2,"Bad range: "+e+"-"+t);for(var a=e;a<=t;a++){if(0===a||a<-5||5<a)throw A(C,n+2,"Number between -5 and 5 (except 0) expected.");r.push(a)}}});if(!W(e,i,"]"))throw A(C,i,'"]" or more numbers expected.');var o=Q(e,i+1,6,"constrained weekdays");Y=!1;for(var s=0;s<r.length;s++)n.weekday.push(function(s,u,l){return function(e){var t,n=Z(e,!1),a=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,1),i=V(e.getFullYear(),e.getMonth(),s,[u]),o=new Date(i.getFullYear(),i.getMonth(),i.getDate()+l);if(o.getTime()<a.getTime()){if(!(i.getTime()>=a.getTime()))return[!1,r];o=R(new Date(e.getFullYear(),e.getMonth()+(0<u?0:1)+1,1),s),i.setDate(o.getDate()+7*(u+(0<u?-1:0))+l)}else if(o.getTime()>=r.getTime()&&i.getTime()>=r.getTime())return[!1,r];if(0<l){if((t=R(new Date(e.getFullYear(),e.getMonth()+(0<u?0:1)-1,1),s)).setDate(t.getDate()+7*(u+(0<u?-1:0))+l),n==Z(t,!1))return[!0,E(e,D)]}else if(l<0)if((t=R(new Date(e.getFullYear(),e.getMonth()+(0<u?0:1)+1,1),s)).setDate(t.getDate()+7*(u+(0<u?-1:0))+l),t.getTime()>=r.getTime()){if(o.getTime()>=r.getTime())return[!1,t]}else{if(o.getTime()<r.getTime()&&Z(o,!1)==n)return[!0,E(e,D)];o=t}return e.getDate()==o.getDate()?[!0,E(e,D)]:e.getDate()<o.getDate()?[!1,o]:[!1,r]}}(e[t][0],r[s],o[0]));t=i+1+o[1]}else{if(!W(e,t,"weekday")){if(W(e,t,"holiday"))return $(e,t,n,!(Y=!1),a);throw A(C,t,"Unexpected token in weekday range: "+e[t][1])}var u=W(e,t+1,"-","weekday"),l=e[t][0],h=u?e[t+2][0]:l,f=!0;h<l&&(i=h,h=l-1,l=i+1,f=!1),h<l?n.weekday.push(function(e){return[!0]}):n.weekday.push(function(n,a,r){return function(e){var t=e.getDay();return t<n||a<t?[!r,R(e,n)]:[r,R(e,a+1)]}}(l,h,f)),t+=u?3:1}if(!W(e,t,","))break}return t}function Q(e,t,n,a){var r=[0,0];if(r[0]=W(e,t,"+")||(W(e,t,"-")?-1:0),0!==r[0]&&W(e,t+1,"number","calcday")){if(e[t+1][0]>n)throw A(C,t+2,"There should be no reason to differ more than "+n+" days from a "+a+". If so tell us …");r[0]*=e[t+1][0],0!==r[0]||F||P.push([C,t+2,"Adding 0 does not change the date. Please omit this."]),r[1]=3}else r[0]=0;return r}function $(e,t,n,a,r){for(r||(e[t][3]=a?"weekday":"holiday");t<e.length;t++){if(!W(e,t,"holiday")){if(W(e,t,"weekday"))return K(e,t,n,!0);throw A(C,t,"Unexpected token (school holiday parser): "+e[t][1])}var i,o;if("PH"==e[t][0]?(o=function(u,l){return function(e){for(var t=ne(u,e.getFullYear(),l),n=Z(e,!0),a=0;a<t.length;a++){var r=Z(t[a][0],!0);if(n<r){if(0<l[0]){var i=ne(u,e.getFullYear()-1,l),o=i[i.length-1],i=Z(o[0],!0);if(n<i)return[!1,o[0]];if(n==i)return[!0,E(o[0],D),"Day after "+o[1]]}return[!1,t[a][0]]}if(n==r)return[!0,new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),(0<l[0]?"Day after ":l[0]<0?"Day before ":"")+t[a][1]]}if(l[0]<0){var s=ne(u,e.getFullYear()+1,l)[0];if(n==Z(s[0],!0))return[!0,E(s[0],D),"Day before "+s[1]]}return[!1,new Date(t[0][0].getFullYear()+1,t[0][0].getMonth(),t[0][0].getDate())]}}(ee(e[t][0]),i=Q(e,t+1,1,"public holiday")),(a?n.weekday:n.holiday).push(o),t+=1+i[1]):"SH"==e[t][0]&&(o=function(f){return function(e){for(var t=Z(e),n=0;n<f.length;n++)for(var a=X(f[n],e.getFullYear()),r=0;r<a.length;r+=4){var i=new Date(e.getFullYear(),a[2+r]-1,a[3+r]+1),o=100*(a[0+r]-1)+a[1+r],s=100*(a[2+r]-1)+a[3+r],i=Z(i),u=s<o;if(t<o){var l=X(f[f.length-1],e.getFullYear()-1,!1);if(void 0===l)return[!1,new Date(e.getFullYear(),a[0+r]-1,a[1+r])];var h=100*(l[l.length-4]-1)+l[l.length-3],s=100*(l[l.length-2]-1)+l[l.length-1];return s<h&&t<s?[!0,new Date(e.getFullYear(),l[l.length-2]-1,l[l.length-1]+1),f[f.length-1].name]:[!1,new Date(e.getFullYear(),a[0+r]-1,a[1+r])]}if(o<=t&&(t<i||u))return[!0,new Date(e.getFullYear()+u,a[2+r]-1,a[3+r]+1),f[n].name];if(i==t){if(r+4<a.length)return r+=4,[!1,new Date(e.getFullYear(),a[0+r]-1,a[1+r])];if(n+1==f.length){a=X(f[0],e.getFullYear()+1);return[!1,new Date(e.getFullYear()+!u,a[0+r]-1,a[1+r])]}a=X(f[n+1],e.getFullYear());return[!1,new Date(e.getFullYear(),a[0]-1,a[1])]}}return[!1]}}(ee(e[t][0])),(a?n.weekday:n.holiday).push(o),t+=1),!W(e,t,","))break}return t}function Z(e,t){return(t?1e4*e.getFullYear():0)+100*e.getMonth()+e.getDate()}function X(e,t,n){var a=e[t];if(void 0!==a||void 0!==(a=e.default))return a;if(n=void 0===n?!0:n)throw N("School holiday "+e.name+" has no definition for the year "+t+". You can also add them: "+o)}function ee(e){if(void 0===a)throw"Country code missing which is needed to select the correct holidays (see README how to provide it)";if(!ue.hasOwnProperty(a))throw N("No holidays are defined for country "+a+". You can also add them: "+o);if(void 0!==i){if(ue[a][i]&&ue[a][i][e])return ue[a][i][e];if(ue[a][e]){var t,n={};for(t in ue[a][e])("object"!=typeof ue[a][e][t][2]||-1!=ue[a][e][t][2].indexOf(i))&&(n[t]=ue[a][e][t]);if(0===Object.keys(n).length)throw N("There are no holidays "+e+" defined for country "+a+". You can also add them: "+o);return n}throw N("Holidays "+e+" are not defined for country "+a+" and state "+i+". You can also add them: "+o)}}function te(e){var t=Math.floor(e/100),n=e-19*Math.floor(e/19),a=Math.floor((t-17)/25),r=t-Math.floor(t/4)-Math.floor((t-a)/3)+19*n+15;r-=30*Math.floor(r/30),r-=Math.floor(r/28)*(1-Math.floor(r/28)*Math.floor(29/(1+r))*Math.floor((21-n)/11));for(var i=e+Math.floor(e/4)+r+2-t+Math.floor(t/4),o=r-(i-=7*Math.floor(i/7)),a=3+Math.floor((40+o)/44),n=28+o-31*Math.floor(a/4),t=(19*(e%19)+15)%30,r=t+(2*(e%4)+4*(e%7)-t+34)%7,i=r<9||4+r<31?new Date(e,3,4+r):new Date(e,4,r-26),o=new Date(e,2,0),t=o.getDate()-o.getDay(),r=24-(6+new Date(e,4,24).getDay())%7,o=0===new Date(e,6,1).getDay()?2:1,s={},u=0;u<12;u++){var l=1+(8-new Date(e,u,1).getDay())%7;s[u]=l}return{firstFebruaryMonday:new Date(e,1,s[1]),lastFebruarySunday:new Date(e,1,t),easter:new Date(e,a-1,n),victoriaDay:new Date(e,4,r),canadaDay:new Date(e,6,o),firstAugustMonday:new Date(e,7,s[7]),firstSeptemberMonday:new Date(e,8,s[8]),firstOctoberMonday:new Date(e,9,s[9]),"orthodox easter":i}}function ne(e,t,n){var a,r=te(t),i=[];for(a in e){if("string"==typeof e[a][0]){var o=r[e[a][0]];if(!o)throw"Movable day "+e[a][0]+" can not not be calculated. Please add the formula how to calculate it.";if(t!=(o=new Date(o.getFullYear(),o.getMonth(),o.getDate()+e[a][1])).getFullYear())throw"The movable day "+e[a][0]+" plus "+e[a][1]+" days is not in the year of the movable day anymore. Currently not supported."}else o=new Date(t,e[a][0]-1,e[a][1]);n[0]&&o.setDate(o.getDate()+n[0]),i.push([o,a])}return i=i.sort(function(e,t){return e[0].getTime()<t[0].getTime()?-1:e[0].getTime()>t[0].getTime()?1:0})}function ae(e,t){for(var n,a,r,i=-1;i<=1;i++)if(n=e,a=t.getFullYear()+i,r=void 0,r=new Date(a,0,1+7*(n-1)),a=r.getDay(),n=r,a<=4?n.setDate(r.getDate()-r.getDay()+1):n.setDate(r.getDate()+8-r.getDay()),(n=n).getTime()>t.getTime())return n;throw N()}function re(e,t,n,a){for(a||(e[t][3]="month");t<e.length;t++){if(W(e,t,"month","number")&&!W(e,t+2,"timesep","number"))return oe(e,t,C,!0);if(!W(e,t,"month"))throw A(C,t,"Unexpected token in month range: "+e[t][1]);var r=W(e,t+1,"-","month"),i=e[t][0],o=r?e[t+2][0]:i;r&&Y&&i===(o+1)%12||(Y=!1);var s,u=!0;o<i&&(s=o,o=i-1,i=s+1,u=!1);u=function(n,a,r){return function(e){var t=e.getMonth();return a<n?[!r]:t<n||a<t?[!r,ie(e,n)]:[r,ie(e,a+1)]}}(i,o,u);if((!0===n?z.monthday:z.month).push(u),!W(e,t+=r?3:1,","))break}return t}function ie(e,t){return new Date(e.getFullYear(),t<e.getMonth()?t+12:t)}function oe(e,t,n,a){for(a||(e[t][3]="month");t<e.length;t++){var r,i,o=[],s=[],u=[],l=[];if((f=[])[0]=W(e,t,"year"),o[0]=W(e,t+f[0],"month","number"),s[0]=W(e,t+f[0],"event"),s[0]&&(u[0]=Q(e,t+f[0]+1,200,"event like easter")),r=W(e,t+f[0],"month","weekday","[")?(l[0]=L(e,t+f[0]+3),u[0]=Q(e,l[0][1],6,"constrained weekdays"),l[0][1]+(void 0!==u[0]&&u[0][1]?3:0)):t+f[0]+(s[0]?void 0!==u[0]&&u[0][1]?4:1:2),(o[0]||s[0]||l[0])&&W(e,r,"-")&&(f[1]=W(e,r+1,"year"),i=r+1+f[1],o[1]=W(e,i,"month","number"),o[1]||(s[1]=W(e,i,"event"),s[1]?u[1]=Q(e,i+1,366,"event like easter"):W(e,i,"month","weekday","[")&&(l[1]=L(e,i+3),u[1]=Q(e,l[1][1],6,"constrained weekdays")))),f[0]==f[1]&&(o[1]||s[1]||l[1])){o[0]&&G(e[t+f[0]][0],e[t+f[0]+1][0],n,t+f[0]+1),o[1]&&G(e[i][0],e[i+1][0],n,i+1);var h=function(o,s,u,l,h,f,d,g){return function(e){var t=new Date(e.getFullYear()+1,0,1);if(h[0]){if(i=te(l[0]?parseInt(o[s][0]):e.getFullYear())[o[s+l[0]][0]],void 0!==f[0]&&f[0][1]){var n=i.getFullYear();if(i.setDate(i.getDate()+f[0][0]),n!=i.getFullYear())throw A(u,s+l[0]+3*f[0][1],"The movable day "+o[s+l[0]][0]+" plus "+f[0][0]+" days is not in the year of the movable day anymore. Currently not supported.")}}else i=g[0]?V(l[0]?o[s][0]:e.getFullYear(),o[s+l[0]][0],o[s+l[0]+1][0],g[0],f[0]):new Date(l[0]?o[s][0]:e.getFullYear(),o[s+l[0]][0],o[s+l[0]+1][0]);if(h[1]){if(r=te(l[1]?parseInt(o[d-1][0]):e.getFullYear())[o[d][0]],void 0!==f[1]&&f[1][1]){var a=r.getFullYear();if(r.setDate(r.getDate()+f[1][0]),a!=r.getFullYear())throw A(u,d+f[1][1],"The movable day "+o[d][0]+" plus "+f[1][0]+" days is not in the year of the movable day anymore. Currently not supported.")}}else r=g[1]?V(l[1]?o[d-1][0]:e.getFullYear(),o[d][0],o[d+1][0],g[1],f[1]):new Date(l[1]?o[d-1][0]:e.getFullYear(),o[d][0],o[d+1][0]+1);var r,i,n=!0;return r<i&&(a=r,r=i,i=a,n=!1),e.getTime()<i.getTime()?[!n,i]:e.getTime()<r.getTime()?[n,r]:l[0]?[!n]:[!n,t]}}(e,t,n,f,s,u,i,l);(!0===a?z.month:z.monthday).push(h),t=(l[1]?l[1][1]:i+(s[1]?1:2))+(void 0!==u[1]?u[1][1]:0)}else if(o[0]){var f=f[0],d=e[t][0],g=e[t+f][0],m=!0;do{var c=e[t+1+f][0],y=W(e,t+2+f,"-","number"),p=void 0,b=e[t+f+(y?3:1)][0]+1;if(y&&W(e,t+f+4,"/","number")&&U(t+f+5,p=e[t+f+5][0],"day"),m){var w=t+f+1+(y?2:0)+(p?2:0)+!(y||p);if(W(e,w,"timesep","number")&&(W(e,w+2,"+")||W(e,w+2,"-")||0!==v))return re(e,t,!0,!0)}if(b<c)throw A(n,t+f+3,"Range in wrong order. From day is greater than to day.");G(g,c,n,t+1+f),G(g,b-1,n,t+f+(y?3:1));h=function(r,i,o,s,u,l){return function(e){var t=new Date(e.getFullYear()+1,0,1),n=new Date(i?r:e.getFullYear(),o,s);if(1==o&&s!=n.getDate())return[!1];var a=new Date(n.getFullYear(),o,u);if(1==o&&y&&u!=a.getDate())return[!1];if(e.getTime()<n.getTime())return[!1,n];if(e.getTime()>=a.getTime())return[!1,t];if(!l)return[!0,a];n=Math.floor((e.getTime()-n.getTime())/M)%l;return 0==n?[!0,new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)]:[!1,new Date(e.getFullYear(),e.getMonth(),e.getDate()+l-n)]}}(d,f,g,c,b,p)}while((!0===a?z.month:z.monthday).push(h),m=!1,W(e,t+=2+f+(y?2:0)+(p?2:0),",","number"))}else if(s[0]){h=function(n,a,r,i,o){return function(e){var t=te(i?n[a][0]:e.getFullYear())[n[a+i][0]];if(!t)throw"Movable day "+n[a+i][0]+" can not not be calculated. Please add the formula how to calculate it.";if(o[0]&&(t.setDate(t.getDate()+o[0]),e.getFullYear()!=t.getFullYear()))throw A(r,a+i+o[1],"The movable day "+n[a+i][0]+" plus "+o[0]+" days is not in the year of the movable day anymore. Currently not supported.");return e.getTime()<t.getTime()?[!1,t]:100*t.getMonth()+t.getDate()==100*e.getMonth()+e.getDate()?[!0,new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)]:[!1,new Date(e.getFullYear()+1,0,1)]}}(e,t,n,f[0],u[0]);(!0===a?z.month:z.monthday).push(h),t+=f[0]+s[0]+(void 0!==u[0][1]&&u[0][1]?3:0)}else{if(!l[0])return W(e,t,"month")?re(e,t,!0,!0):t;t=re(e,t)}if(!W(e,t,","))break}return t}this.getStatePair=function(e){for(var t,n,a=!1,r=!1,i=[],o=0;o<x.length;o++){for(var s=!0,u=0;u<x[o].date.length;u++){for(var l=x[o].date[u],h=!1,f=0;f<l.length;f++)(g=l[f](e))[0]&&(h=!0,"string"==typeof g[2]&&(c=[g[2],o])),(void 0===t||void 0!==g[1]&&g[1].getTime()<t.getTime())&&(t=g[1]);if(!h){s=!1;break}}s&&(i=(0<x[o].date.length||0<o&&x[o].meaning&&0===x[o-1].date.length)&&(x[o].meaning||x[o].unknown)&&!x[o].wrapped&&!x[o].additional&&!x[o].fallback?[]:i).push(o)}for(o=0;o<i.length;o++){var d=i[o];0===x[d].time.length&&(x[d].fallback&&(!x[d].fallback||a||r)||(a=x[d].meaning,r=x[d].unknown,n=d));for(var g,m,c,y=0;y<x[d].time.length;y++)(g=x[d].time[y](e))[0]&&(x[d].fallback&&(!x[d].fallback||a||r)||(a=x[d].meaning,r=x[d].unknown,n=d,"object"==typeof c&&"Specified as open end. Closing time was guessed."===c[0]&&(c=void 0),!0===g[2]&&(a||r)&&(r=!(a=!(c=["Specified as open end. Closing time was guessed.",n])),"function"!=typeof x[d].time[y+1]||!(m=x[d].time[y+1](e))[0]&&"object"==typeof m[1]&&x[d].time[y](new Date(e.getTime()-1))[0]&&(r=a=!1)),x[d].fallback&&(void 0===t||void 0!==g[1]&&g[1]<t)&&(t=g[1]))),(void 0===t||void 0!==g[1]&&g[1]<t)&&(t=g[1])}return"object"==typeof x[n]&&"string"==typeof x[n].comment?c=x[n].comment:"object"==typeof c&&(c=c[1]===n?c[0]:void 0),[a,t,r,c,n]},this.getIterator=function(e){return new function(t){var n=[void 0,e=void 0===e?new Date:e,void 0,void 0,void 0],a=t.getStatePair(e);this.getDate=function(){return n[1]},this.setDate=function(e){if("object"!=typeof e)throw"Date parameter needed.";n=[void 0,e,void 0,void 0,void 0],a=t.getStatePair(e)},this.getState=function(){return a[0]},this.getUnknown=function(){return a[2]},this.getStateString=function(e){return a[0]?"open":a[2]?"unknown":e?"closed":"close"},this.getComment=function(){return a[3]},this.getMatchingRule=function(){if(void 0!==a[4])return x[a[4]].build_from_token_rule[2]},this.advance=function(e){if(void 0===e)e=new Date(n[1].getTime()+366*M*5);else if(e.getTime()<=n[1].getTime())return!1;do{if(void 0===a[1])return!1;if(a[1].getTime()<=n[1].getTime())throw"Fatal: infinite loop in nextChange";if(a[1].getTime()>=e.getTime())return!1}while(n=a,(a=t.getStatePair(n[1]))[0]===n[0]&&a[2]===n[2]&&a[3]===n[3]);return!0}}(this)},this.getState=function(e){return this.getIterator(e).getState()},this.getUnknown=function(e){return this.getIterator(e).getUnknown()},this.getStateString=function(e,t){return this.getIterator(e).getStateString(t)},this.getComment=function(e){return this.getIterator(e).getComment()},this.getMatchingRule=function(e){return this.getIterator(e).getMatchingRule()},this.getWarnings=function(){return g(this.getIterator())},this.prettifyValue=function(e){return this.getWarnings(),B(e)},this.getNextChange=function(e,t){e=this.getIterator(e);if(e.advance(t))return e.getDate()},this.isWeekStable=function(){return Y},this.getOpenIntervals=function(e,t){var n=[],a=this.getIterator(e);for((a.getState()||a.getUnknown())&&n.push([e,void 0,a.getUnknown(),a.getComment()]);a.advance(t);)a.getState()||a.getUnknown()?(0!==n.length&&void 0===n[n.length-1][1]&&(n[n.length-1][1]=a.getDate()),n.push([a.getDate(),void 0,a.getUnknown(),a.getComment()])):0!==n.length&&void 0===n[n.length-1][1]&&(n[n.length-1][1]=a.getDate());return 0<n.length&&void 0===n[n.length-1][1]&&(n[n.length-1][1]=t),n},this.getOpenDuration=function(e,t){for(var n=0,a=0,r=this.getIterator(e),i=r.getState()||r.getUnknown()?e:void 0,o=r.getState(),s=r.getUnknown();r.advance(t);)r.getState()||r.getUnknown()?(void 0!==i&&(s?a+=r.getDate().getTime()-i.getTime():o&&(n+=r.getDate().getTime()-i.getTime())),i=r.getDate(),o=r.getState(),s=r.getUnknown()):void 0!==i&&(s?a+=r.getDate().getTime()-i.getTime():n+=r.getDate().getTime()-i.getTime(),i=void 0);return void 0!==i&&(s?a+=t.getTime()-i.getTime():n+=t.getTime()-i.getTime()),[n,a]}}});